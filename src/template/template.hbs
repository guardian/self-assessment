<html>

<head>
    <title>Self-assessment ({{user}})</title>
</head>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous" />
<style>
    header {
     background: rgb(5, 41, 98);
    padding: 30px;

    }

    header > h1 {
    font-family: "GT Guardian Titlepiece", Georgia, serif;
    font-size: 2.625rem;
    line-height: 1.15;
    font-weight: 700;
    color: rgb(255, 255, 255);
    margin: auto;
    text-align: center;
}


    h2 {
        margin-bottom: 20px;
    }

    ul {
        line-height: 35px;
        list-style-type: none;
        max-width: 90%;
    }

    .listLi {
        margin: 10px 0;
    }

    img {
        max-width: 90%;
    }

    details[open]>summary {
        background-color: var(--bs-light);
    }

    summary:hover {
        background-color: var(--bs-light)
    }

    .label {
        padding: 2px 7px;
        border-radius: 2em;
        font-size: 14px;
        font-weight: 500;
        border: 1px solid transparent;
    }

    .createdAt {
        display: inline-block;
        min-width: 104px;
    }

    .avatar {
        border-radius: 50%;
        display: inline-block;
        box-shadow: 0 0 0 1px rgba(27, 31, 36, 0.15);
        vertical-align: middle;
        margin-right: 15px;
    }

    details {
        margin-bottom: 20px;
    }

    .prContainer {
        padding:20px 20px;
    }
</style>
<header>
    <h1>Guardian Self-Assessment Tool</h1>
</header>
<body>
    <div class="prContainer">
    <h2>{{prs_len}} PRs authored by {{user}}</h2>
    <details open>
        <summary>Click to expand/collapse</summary>
        <ul>
            {{#each prs as |p| }}
            <li class="listLi">
                <details>
                    <summary>{{{p.status}}} <div class="createdAt">{{ p.created_at }}</div>
                        <img class="avatar" height="40" width="40" alt="@{{p.author}}" src={{p.profile_pic}}> <strong><a
                                href="{{p.html_url}}">{{p.title}}</a></strong> (<a
                            href="https://github.com/guardian/{{p.repo_name}}">{{p.repo_name}})</a> {{{p.labels}}}
                        {{#if p.comments_present.0}}
                        ({{p.comments}} comment{{#unless p.comments_present.1}}s{{/unless}})
                        {{/if}}
                    </summary>
                    <p>
                        {{{p.body}}}
                    </p>
                </details>
            </li>
            {{/each}}
        </ul>
    </details>

    <h2>{{reviews_len}} PRs reviewed by {{user}}</h2>
    <details open>
        <summary>Click to expand/collapse</summary>
        <ul>
            {{#each reviews as |p| }}
            <li class="listLi">
                <details>
                    <summary>{{{p.status}}} <div class="createdAt">{{ p.created_at }}</div>
                        <img class="avatar" height="40" width="40" alt="@{{p.author}}" src={{p.profile_pic}}> <strong><a
                                href="{{p.html_url}}">{{p.title}}</a></strong>
                        (<a href="https://github.com/guardian/{{p.repo_name}}">{{p.repo_name}})</a> {{{p.labels}}}
                        {{#if p.comments_present.0}}
                        ({{p.comments}} comment{{#unless p.comments_present.1}}s{{/unless}})
                        {{/if}}
                    </summary>
                    <p>
                        {{{p.body}}}
                    </p>
                </details>
            </li>
            {{/each}}
        </ul>
    </details>
    </div>
</body>

</html>